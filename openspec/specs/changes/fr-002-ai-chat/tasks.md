# å®æ–½ä»»åŠ¡æ¸…å•ï¼šFR-002 AI æƒ…ç»ªæ•™ç»ƒå¯¹è¯

**å˜æ›´ID**: CHANGE-003
**çŠ¶æ€**: ğŸŸ¡ å¾…è¯„å®¡é€šè¿‡åå¼€å§‹

---

## å‰ç½®æ¡ä»¶

- [ ] æœ¬å˜æ›´ææ¡ˆå·²é€šè¿‡è¯„å®¡
- [ ] ç°æœ‰ `/api/chat` ä»£ç å·² review

---

## ä»»åŠ¡åˆ†è§£

### Phase 1: è§„æ ¼è¯„å®¡ä¸åˆå¹¶ (Day 0)

| ä»»åŠ¡ | è´Ÿè´£äºº | çŠ¶æ€ |
|------|--------|------|
| è¯„å®¡ proposal.md | PM/Tech Lead | â¬œ å¾…è¯„å®¡ |
| è¯„å®¡ chat-flow.md ç”¨æˆ·æµç¨‹ | PM/UX | â¬œ å¾…è¯„å®¡ |
| è¯„å®¡ chat-api.md API è§„èŒƒ | Tech Lead | â¬œ å¾…è¯„å®¡ |
| è¯„å®¡ chat-states.md çŠ¶æ€æœº | å‰ç«¯ Lead | â¬œ å¾…è¯„å®¡ |
| è¯„å®¡é€šè¿‡ååˆå¹¶åˆ° specs/ | ææ¡ˆäºº | â¬œ å¾…æ‰§è¡Œ |

---

### Phase 2: ä»£ç å¯¹é½æ£€æŸ¥ (å¯é€‰)

æœ¬å˜æ›´ä¸»è¦æ˜¯**æ–‡æ¡£åŒ–ç°æœ‰ä»£ç **ï¼Œæ— éœ€æ–°å¢ä»£ç ã€‚

ä»¥ä¸‹æ˜¯å¯é€‰çš„ä»£ç æ”¹è¿›é¡¹ï¼š

| ä»»åŠ¡ | æ–‡ä»¶ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|------|--------|------|
| å®ç°æµå¼å“åº” | `app/api/chat/route.ts` | P1 | AC-002.2 è¦æ±‚æ‰“å­—æœºæ•ˆæœ |
| æ·»åŠ æ¶ˆæ¯é•¿åº¦éªŒè¯ | `app/api/chat/route.ts` | P2 | é™åˆ¶ 500 å­—ç¬¦ |
| æ·»åŠ è¯·æ±‚è¶…æ—¶å¤„ç† | å‰ç«¯ç»„ä»¶ | P2 | 10 ç§’è¶…æ—¶ |
| å¯¹è¯å†å² 15 å¤©é™åˆ¶ | `lib/memory.ts` | P2 | AC-002.6 éªŒè¯ |

---

### Phase 3: ç›®å½•ç»“æ„åˆ›å»º

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| åˆ›å»º `specs/api-contracts/` ç›®å½• | å¦‚ä¸å­˜åœ¨ |
| åˆ›å»º `specs/state-machines/` ç›®å½• | å¦‚ä¸å­˜åœ¨ |

```bash
# ç¡®ä¿ç›®å½•å­˜åœ¨
mkdir -p specs/api-contracts
mkdir -p specs/state-machines
```

---

## éªŒæ”¶æ¸…å•

### æ–‡æ¡£éªŒæ”¶

- [ ] chat-flow.md åŒ…å«å®Œæ•´ Mermaid æµç¨‹å›¾
- [ ] chat-api.md è¯·æ±‚/å“åº”æ ¼å¼ä¸ä»£ç ä¸€è‡´
- [ ] chat-states.md çŠ¶æ€è½¬æ¢è¦†ç›–æ‰€æœ‰ UI åœºæ™¯
- [ ] æ‰€æœ‰æ–‡æ¡£ç›¸äº’å¼•ç”¨æ­£ç¡®

### ä»£ç éªŒæ”¶ï¼ˆå¦‚æœ‰æ”¹åŠ¨ï¼‰

- [ ] API å“åº”æ ¼å¼ç¬¦åˆ spec
- [ ] é”™è¯¯ç ç¬¦åˆå®šä¹‰
- [ ] TypeScript ç¼–è¯‘æ— é”™è¯¯

---

## å®Œæˆåæ“ä½œ

1. [ ] å¤åˆ¶ `chat-flow.md` åˆ° `specs/user-flows/`
2. [ ] å¤åˆ¶ `chat-api.md` åˆ° `specs/api-contracts/`
3. [ ] å¤åˆ¶ `chat-states.md` åˆ° `specs/state-machines/`
4. [ ] æ›´æ–° `specs/user-flows/README.md` çŠ¶æ€
5. [ ] æ›´æ–° `openspec/README.md` çŠ¶æ€æ ‡è®°
6. [ ] å°† `changes/fr-002-ai-chat/` ç§»åŠ¨åˆ° `archive/`
7. [ ] é€šçŸ¥å›¢é˜Ÿå˜æ›´å·²å®Œæˆ

---

**æœ€åæ›´æ–°**: 2026-01-21
